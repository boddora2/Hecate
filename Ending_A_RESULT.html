<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="style.css" />
  <title>엔딩 A 결과</title>
  <link href="https://fonts.googleapis.com/css2?family=Nanum+Myeongjo&display=swap" rel="stylesheet">
  <style>
    body {
      background-color: #111;
      padding: 40px 20px;
    }

    .result-box {
      background-color: #222;
      padding: 30px;
      border-radius: 12px;
      max-width: 800px;
      margin: 0 auto;
      box-shadow: 0 0 20px rgba(0, 0, 0, 0.5);
    }

    .result-box h2 {
      margin-bottom: 20px;
      color: #FFD700;
    }

    .result-code {
      font-size: 24px;
      font-weight: bold;
      margin-top: 10px;
    }

    .result-message {
      font-family: 'Nanum Myeongjo', 'Times New Roman', serif;
      word-spacing: 0px;
      text-align: justify;
      font-weight: normal;
      font-size: 12px;
      line-height: 1.8;
      margin-bottom: 20px;
      white-space: pre-line;
    }
    
    hr.custom-hr {
      border: none;
      height: 2px;
      background: white;
      margin: 30px 0;
      width: 100%;
    }
  </style>
</head>
  <body class="index-page">
  <div class="result-box">
    <h2>최종 엔딩 결과</h2>
    <div class="result-code" id="endingCode">엔딩 코드 불러오는 중...</div>
    <div class="result-message" id="endingText">결과 텍스트를 불러오는 중...</div>
  </div>

  <script>
    const cause = localStorage.getItem("ariasCause");
    const killer = localStorage.getItem("selectedKiller") || "";
    const reVote = localStorage.getItem("reVoteResult") || "";
    const excluded = localStorage.getItem("excluded") || "";
    
    let book = localStorage.getItem("bookFound");
    book = (book === "yes") ? "예" : "아니오";
    
    let action = localStorage.getItem("finalAction");
    if (action === "봉인") action = "요괴 봉인술";
    else if (action === "해제") action = "요괴 봉인해제술";
    else action = "주술 실패";


    const forbiddenNames = JSON.parse(localStorage.getItem("forbiddenNames") || "[]");
    const supportBbyori = JSON.parse(localStorage.getItem("supportBbyori") || "[]");
    const supportGill = JSON.parse(localStorage.getItem("supportGill") || "[]");
    const sealUsers = JSON.parse(localStorage.getItem("sealUsers") || "[]");


    // 조건 키 생성
    const key = (cause === "타살")
      ? `${cause}|${killer}|${reVote}|${book}|${action}`
      : `${cause}|${excluded}|${book}|${action}`;

    // 엔딩 로직 맵
    const logicMap = {
    "자살|길라|예|요괴 봉인술": "A-01",
    "자살|나린|예|요괴 봉인술": "A-01",
    "자살|다올|예|요괴 봉인술": "A-01",
    "자살|라온|예|요괴 봉인술": "A-01",
    "자살|마루|예|요괴 봉인술": "A-01",
    "자살|벼리|예|요괴 봉인술": "A-01",
    "자살|새나|예|요괴 봉인술": "A-01",
    "자살|없음|예|요괴 봉인술": "A-03",
    "자살|길라|예|요괴 봉인해제술": "A-02",
    "자살|나린|예|요괴 봉인해제술": "A-02",
    "자살|다올|예|요괴 봉인해제술": "A-02",
    "자살|라온|예|요괴 봉인해제술": "A-02",
    "자살|마루|예|요괴 봉인해제술": "A-02",
    "자살|벼리|예|요괴 봉인해제술": "A-02",
    "자살|새나|예|요괴 봉인해제술": "A-02",
    "자살|없음|예|요괴 봉인해제술": "A-04",
    "자살|길라|예|주술 실패": "C-01",
    "자살|나린|예|주술 실패": "C-01",
    "자살|다올|예|주술 실패": "C-01",
    "자살|라온|예|주술 실패": "C-01",
    "자살|마루|예|주술 실패": "C-01",
    "자살|벼리|예|주술 실패": "C-01",
    "자살|새나|예|주술 실패": "C-01",
    "자살|없음|예|주술 실패": "C-01",
    "사고사|길라|예|요괴 봉인술": "A-01",
    "사고사|나린|예|요괴 봉인술": "A-01",
    "사고사|다올|예|요괴 봉인술": "A-01",
    "사고사|라온|예|요괴 봉인술": "A-01",
    "사고사|마루|예|요괴 봉인술": "A-01",
    "사고사|벼리|예|요괴 봉인술": "A-01",
    "사고사|새나|예|요괴 봉인술": "A-01",
    "사고사|없음|예|요괴 봉인술": "A-03",
    "사고사|길라|예|요괴 봉인해제술": "A-02",
    "사고사|나린|예|요괴 봉인해제술": "A-02",
    "사고사|다올|예|요괴 봉인해제술": "A-02",
    "사고사|라온|예|요괴 봉인해제술": "A-02",
    "사고사|마루|예|요괴 봉인해제술": "A-02",
    "사고사|벼리|예|요괴 봉인해제술": "A-02",
    "사고사|새나|예|요괴 봉인해제술": "A-02",
    "사고사|없음|예|요괴 봉인해제술": "A-04",
    "사고사|길라|예|주술 실패": "C-01",
    "사고사|나린|예|주술 실패": "C-01",
    "사고사|다올|예|주술 실패": "C-01",
    "사고사|라온|예|주술 실패": "C-01",
    "사고사|마루|예|주술 실패": "C-01",
    "사고사|벼리|예|주술 실패": "C-01",
    "사고사|새나|예|주술 실패": "C-01",
    "사고사|없음|예|주술 실패": "C-01",
    "자연사|길라|예|요괴 봉인술": "A-01",
    "자연사|나린|예|요괴 봉인술": "A-01",
    "자연사|다올|예|요괴 봉인술": "A-01",
    "자연사|라온|예|요괴 봉인술": "A-01",
    "자연사|마루|예|요괴 봉인술": "A-01",
    "자연사|벼리|예|요괴 봉인술": "A-01",
    "자연사|새나|예|요괴 봉인술": "A-01",
    "자연사|없음|예|요괴 봉인술": "A-03",
    "자연사|길라|예|요괴 봉인해제술": "A-02",
    "자연사|나린|예|요괴 봉인해제술": "A-02",
    "자연사|다올|예|요괴 봉인해제술": "A-02",
    "자연사|라온|예|요괴 봉인해제술": "A-02",
    "자연사|마루|예|요괴 봉인해제술": "A-02",
    "자연사|벼리|예|요괴 봉인해제술": "A-02",
    "자연사|새나|예|요괴 봉인해제술": "A-02",
    "자연사|없음|예|요괴 봉인해제술": "A-04",
    "자연사|길라|예|주술 실패": "C-01",
    "자연사|나린|예|주술 실패": "C-01",
    "자연사|다올|예|주술 실패": "C-01",
    "자연사|라온|예|주술 실패": "C-01",
    "자연사|마루|예|주술 실패": "C-01",
    "자연사|벼리|예|주술 실패": "C-01",
    "자연사|새나|예|주술 실패": "C-01",
    "자연사|없음|예|주술 실패": "C-01",
    "동률|길라|예|요괴 봉인술": "A-01",
    "동률|나린|예|요괴 봉인술": "A-01",
    "동률|다올|예|요괴 봉인술": "A-01",
    "동률|라온|예|요괴 봉인술": "A-01",
    "동률|마루|예|요괴 봉인술": "A-01",
    "동률|벼리|예|요괴 봉인술": "A-01",
    "동률|새나|예|요괴 봉인술": "A-01",
    "동률|없음|예|요괴 봉인술": "A-03",
    "동률|길라|예|요괴 봉인해제술": "A-02",
    "동률|나린|예|요괴 봉인해제술": "A-02",
    "동률|다올|예|요괴 봉인해제술": "A-02",
    "동률|라온|예|요괴 봉인해제술": "A-02",
    "동률|마루|예|요괴 봉인해제술": "A-02",
    "동률|벼리|예|요괴 봉인해제술": "A-02",
    "동률|새나|예|요괴 봉인해제술": "A-02",
    "동률|없음|예|요괴 봉인해제술": "A-04",
    "동률|길라|예|주술 실패": "C-01",
    "동률|나린|예|주술 실패": "C-01",
    "동률|다올|예|주술 실패": "C-01",
    "동률|라온|예|주술 실패": "C-01",
    "동률|마루|예|주술 실패": "C-01",
    "동률|벼리|예|주술 실패": "C-01",
    "동률|새나|예|주술 실패": "C-01",
    "동률|없음|예|주술 실패": "C-01",
    "자살|길라|아니오|요괴 봉인해제술": "A-02",
    "자살|나린|아니오|요괴 봉인해제술": "A-02",
    "자살|다올|아니오|요괴 봉인해제술": "A-02",
    "자살|라온|아니오|요괴 봉인해제술": "A-02",
    "자살|마루|아니오|요괴 봉인해제술": "A-02",
    "자살|벼리|아니오|요괴 봉인해제술": "A-02",
    "자살|새나|아니오|요괴 봉인해제술": "A-02",
    "자살|없음|아니오|요괴 봉인해제술": "A-04",
    "자살|길라|아니오|주술 실패": "C-02",
    "자살|나린|아니오|주술 실패": "C-02",
    "자살|다올|아니오|주술 실패": "C-02",
    "자살|라온|아니오|주술 실패": "C-02",
    "자살|마루|아니오|주술 실패": "C-02",
    "자살|벼리|아니오|주술 실패": "C-02",
    "자살|새나|아니오|주술 실패": "C-02",
    "자살|없음|아니오|주술 실패": "C-02",
    "사고사|길라|아니오|요괴 봉인해제술": "A-02",
    "사고사|나린|아니오|요괴 봉인해제술": "A-02",
    "사고사|다올|아니오|요괴 봉인해제술": "A-02",
    "사고사|라온|아니오|요괴 봉인해제술": "A-02",
    "사고사|마루|아니오|요괴 봉인해제술": "A-02",
    "사고사|벼리|아니오|요괴 봉인해제술": "A-02",
    "사고사|새나|아니오|요괴 봉인해제술": "A-02",
    "사고사|없음|아니오|요괴 봉인해제술": "A-04",
    "사고사|길라|아니오|주술 실패": "C-02",
    "사고사|나린|아니오|주술 실패": "C-02",
    "사고사|다올|아니오|주술 실패": "C-02",
    "사고사|라온|아니오|주술 실패": "C-02",
    "사고사|마루|아니오|주술 실패": "C-02",
    "사고사|벼리|아니오|주술 실패": "C-02",
    "사고사|새나|아니오|주술 실패": "C-02",
    "사고사|없음|아니오|주술 실패": "C-02",
    "자연사|길라|아니오|요괴 봉인해제술": "A-02",
    "자연사|나린|아니오|요괴 봉인해제술": "A-02",
    "자연사|다올|아니오|요괴 봉인해제술": "A-02",
    "자연사|라온|아니오|요괴 봉인해제술": "A-02",
    "자연사|마루|아니오|요괴 봉인해제술": "A-02",
    "자연사|벼리|아니오|요괴 봉인해제술": "A-02",
    "자연사|새나|아니오|요괴 봉인해제술": "A-02",
    "자연사|없음|아니오|요괴 봉인해제술": "A-04",
    "자연사|길라|아니오|주술 실패": "C-02",
    "자연사|나린|아니오|주술 실패": "C-02",
    "자연사|다올|아니오|주술 실패": "C-02",
    "자연사|라온|아니오|주술 실패": "C-02",
    "자연사|마루|아니오|주술 실패": "C-02",
    "자연사|벼리|아니오|주술 실패": "C-02",
    "자연사|새나|아니오|주술 실패": "C-02",
    "자연사|없음|아니오|주술 실패": "C-02",
    "동률|길라|아니오|요괴 봉인해제술": "A-02",
    "동률|나린|아니오|요괴 봉인해제술": "A-02",
    "동률|다올|아니오|요괴 봉인해제술": "A-02",
    "동률|라온|아니오|요괴 봉인해제술": "A-02",
    "동률|마루|아니오|요괴 봉인해제술": "A-02",
    "동률|벼리|아니오|요괴 봉인해제술": "A-02",
    "동률|새나|아니오|요괴 봉인해제술": "A-02",
    "동률|없음|아니오|요괴 봉인해제술": "A-04",
    "동률|길라|아니오|주술 실패": "C-02",
    "동률|나린|아니오|주술 실패": "C-02",
    "동률|다올|아니오|주술 실패": "C-02",
    "동률|라온|아니오|주술 실패": "C-02",
    "동률|마루|아니오|주술 실패": "C-02",
    "동률|벼리|아니오|주술 실패": "C-02",
    "동률|새나|아니오|주술 실패": "C-02",
    "동률|없음|아니오|주술 실패": "C-02",
    "타살|길라|처벌|예|요괴 봉인술": "A-05",
    "타살|나린|처벌|예|요괴 봉인술": "A-05",
    "타살|다올|처벌|예|요괴 봉인술": "A-05",
    "타살|라온|처벌|예|요괴 봉인술": "A-05",
    "타살|마루|처벌|예|요괴 봉인술": "A-11",
    "타살|벼리|처벌|예|요괴 봉인술": "A-05",
    "타살|새나|처벌|예|요괴 봉인술": "A-17",
    "타살|길라|처벌|예|요괴 봉인해제술": "A-06",
    "타살|나린|처벌|예|요괴 봉인해제술": "A-06",
    "타살|다올|처벌|예|요괴 봉인해제술": "A-06",
    "타살|라온|처벌|예|요괴 봉인해제술": "A-06",
    "타살|마루|처벌|예|요괴 봉인해제술": "A-12",
    "타살|벼리|처벌|예|요괴 봉인해제술": "A-06",
    "타살|새나|처벌|예|요괴 봉인해제술": "A-18",
    "타살|길라|처벌|예|주술 실패": "C-02",
    "타살|나린|처벌|예|주술 실패": "C-02",
    "타살|다올|처벌|예|주술 실패": "C-02",
    "타살|라온|처벌|예|주술 실패": "C-02",
    "타살|마루|처벌|예|주술 실패": "C-02",
    "타살|벼리|처벌|예|주술 실패": "C-02",
    "타살|새나|처벌|예|주술 실패": "C-02",
    "타살|길라|처벌|아니오|요괴 봉인해제술": "A-06",
    "타살|나린|처벌|아니오|요괴 봉인해제술": "A-06",
    "타살|다올|처벌|아니오|요괴 봉인해제술": "A-06",
    "타살|라온|처벌|아니오|요괴 봉인해제술": "A-06",
    "타살|마루|처벌|아니오|요괴 봉인해제술": "A-12",
    "타살|벼리|처벌|아니오|요괴 봉인해제술": "A-06",
    "타살|새나|처벌|아니오|요괴 봉인해제술": "A-18",
    "타살|길라|처벌|아니오|주술 실패": "C-02",
    "타살|나린|처벌|아니오|주술 실패": "C-02",
    "타살|다올|처벌|아니오|주술 실패": "C-02",
    "타살|라온|처벌|아니오|주술 실패": "C-02",
    "타살|마루|처벌|아니오|주술 실패": "C-02",
    "타살|벼리|처벌|아니오|주술 실패": "C-02",
    "타살|새나|처벌|아니오|주술 실패": "C-02",
    "타살|길라|불완전 용서|예|요괴 봉인술": "A-07",
    "타살|나린|불완전 용서|예|요괴 봉인술": "A-07",
    "타살|다올|불완전 용서|예|요괴 봉인술": "A-07",
    "타살|라온|불완전 용서|예|요괴 봉인술": "A-07",
    "타살|마루|불완전 용서|예|요괴 봉인술": "A-13",
    "타살|벼리|불완전 용서|예|요괴 봉인술": "A-07",
    "타살|새나|불완전 용서|예|요괴 봉인술": "A-19",
    "타살|길라|불완전 용서|예|요괴 봉인해제술": "A-08",
    "타살|나린|불완전 용서|예|요괴 봉인해제술": "A-08",
    "타살|다올|불완전 용서|예|요괴 봉인해제술": "A-08",
    "타살|라온|불완전 용서|예|요괴 봉인해제술": "A-08",
    "타살|마루|불완전 용서|예|요괴 봉인해제술": "A-14",
    "타살|벼리|불완전 용서|예|요괴 봉인해제술": "A-08",
    "타살|새나|불완전 용서|예|요괴 봉인해제술": "A-20",
    "타살|길라|불완전 용서|예|주술 실패": "C-02",
    "타살|나린|불완전 용서|예|주술 실패": "C-02",
    "타살|다올|불완전 용서|예|주술 실패": "C-02",
    "타살|라온|불완전 용서|예|주술 실패": "C-02",
    "타살|마루|불완전 용서|예|주술 실패": "C-02",
    "타살|벼리|불완전 용서|예|주술 실패": "C-02",
    "타살|새나|불완전 용서|예|주술 실패": "C-02",
    "타살|길라|불완전 용서|아니오|요괴 봉인해제술": "A-08",
    "타살|나린|불완전 용서|아니오|요괴 봉인해제술": "A-08",
    "타살|다올|불완전 용서|아니오|요괴 봉인해제술": "A-08",
    "타살|라온|불완전 용서|아니오|요괴 봉인해제술": "A-08",
    "타살|마루|불완전 용서|아니오|요괴 봉인해제술": "A-14",
    "타살|벼리|불완전 용서|아니오|요괴 봉인해제술": "A-08",
    "타살|새나|불완전 용서|아니오|요괴 봉인해제술": "A-20",
    "타살|길라|불완전 용서|아니오|주술 실패": "C-02",
    "타살|나린|불완전 용서|아니오|주술 실패": "C-02",
    "타살|다올|불완전 용서|아니오|주술 실패": "C-02",
    "타살|라온|불완전 용서|아니오|주술 실패": "C-02",
    "타살|마루|불완전 용서|아니오|주술 실패": "C-02",
    "타살|벼리|불완전 용서|아니오|주술 실패": "C-02",
    "타살|새나|불완전 용서|아니오|주술 실패": "C-02",
    "타살|길라|용서|예|요괴 봉인해제술": "A-09",
    "타살|나린|용서|예|요괴 봉인해제술": "A-09",
    "타살|다올|용서|예|요괴 봉인해제술": "A-09",
    "타살|라온|용서|예|요괴 봉인해제술": "A-09",
    "타살|마루|용서|예|요괴 봉인해제술": "A-15",
    "타살|벼리|용서|예|요괴 봉인해제술": "A-09",
    "타살|새나|용서|예|요괴 봉인해제술": "A-21",
    "타살|길라|용서|예|주술 실패": "C-02",
    "타살|나린|용서|예|주술 실패": "C-02",
    "타살|다올|용서|예|주술 실패": "C-02",
    "타살|라온|용서|예|주술 실패": "C-02",
    "타살|마루|용서|예|주술 실패": "C-02",
    "타살|벼리|용서|예|주술 실패": "C-02",
    "타살|새나|용서|예|주술 실패": "C-02",
    "타살|길라|용서|아니오|요괴 봉인해제술": "A-10",
    "타살|나린|용서|아니오|요괴 봉인해제술": "A-10",
    "타살|다올|용서|아니오|요괴 봉인해제술": "A-10",
    "타살|라온|용서|아니오|요괴 봉인해제술": "A-10",
    "타살|마루|용서|아니오|요괴 봉인해제술": "A-16",
    "타살|벼리|용서|아니오|요괴 봉인해제술": "A-10",
    "타살|새나|용서|아니오|요괴 봉인해제술": "A-22",
    "타살|길라|용서|아니오|주술 실패": "C-02",
    "타살|나린|용서|아니오|주술 실패": "C-02",
    "타살|다올|용서|아니오|주술 실패": "C-02",
    "타살|라온|용서|아니오|주술 실패": "C-02",
    "타살|마루|용서|아니오|주술 실패": "C-02",
    "타살|벼리|용서|아니오|주술 실패": "C-02",
    "타살|새나|용서|아니오|주술 실패": "C-02",
};
    const endingCode = logicMap[key];

    const messageMap = {
      "A-01": ({ excluded, forbiddenNames, supportBbyori }) => {
        const excludedText = excluded
        ? `협력이 어렵다고 판단된 ${excluded}은(는) 다른 아이들의 동의 하에 제압되어 주술 행동에서 제외되었다.`
        : "";

        const forbiddenText = forbiddenNames.length > 0
        ? `${forbiddenNames.join(", ")}은/는 주술 마을로 돌아가 모두에게 요괴에 대한 진실을 알린 뒤, 봉인을 무너뜨리겠다고 말했다.`
        : "";

        const supportText = supportBbyori.length > 0
        ? `그러나 벼리와 그녀를 지지한 ${supportBbyori.join(", ")}이/가 그들을 제압했고, 그들의 생명력마저 이용해 봉인을 강화하는 데 사용했다.`
        : "";

        return `
        모두의 조사를 통해 밝혀진 진실은 충격적이었다. '요괴는 사악한 괴물'이라는 말은 촌장 가문과 교장 가문이 권력을 유지하기 위해 꾸며낸 거짓이었다. 이제 아리아의 죽음을 밝히는 것보다, 요괴의 봉인을 유지할지 해제할지가 더 중요한 문제가 되었다.

        지난 10년을 요계에서 보낸 라온은 요괴들이 여전히 인간을 친구로 여긴다는 사실을 전하며, 봉인을 해제하자고 주장했다. 중립을 지켜오던 나린 역시 이에 동의하며 요괴를 해방하자고 나섰다.

        그러나 벼리는 다른 의견을 내놓았다. 진실이 세상에 드러나면 주술사 사회와 인간 사회 모두 큰 혼란에 빠질 수 있다고 말했다. 봉인을 해제하면, 신비한 힘을 얻는 방법을 알게 된 인간들의 탐욕에 의해 요괴는 다시금 목숨을 위협받게 될 것이며, 힘의 근원이 노출된 주술사까지 표적이 될 수 있다고 했다. 그러므로 그녀는 평화와 안정을 위해 요괴 봉인을 유지하자고 했다.

        벼리의 의견에 길라는 죄 없는 요괴들을 언제까지 고통받게 할 것이냐며 반발했지만, 의견은 좁혀지지 않았다.
        
        ${excludedText}

        그 후 아이들은 각자의 신념대로 주술을 펼쳤고, 그중 다수가 벼리에게 힘을 보태는 강화술을 사용했다. 그 결과 요괴 봉인은 해제되지 않고 오히려 더 강하게 유지되었다.

        ${forbiddenText}
        
        ${supportText}

        주술 마을에는 여전히 '사악한 괴물인 요괴를 봉인하기 위해 목숨을 바친 주술사들’의 이야기만 전해진다.
        `;
        },
      "A-02": ({ excluded, forbiddenNames, supportBbyori }) => {
        const excludedText = excluded
        ? `이에 아이들은 다시 아리아의 죽음과 봉인 유지 여부에 대해 논의했고, 협력이 어렵다고 판단된 ${excluded}은(는) 다른 아이들의 동의 하에 제압되어 주술 행동에서 제외되었다.`
        : "";

        return `
        모두의 조사를 통해 밝혀진 진실은 충격적이었다. '요괴는 사악한 괴물'이라는 말은 촌장 가문과 교장 가문이 권력을 유지하기 위해 꾸며낸 거짓이었다. 이제 아리아의 죽음을 밝히는 것보다, 요괴의 봉인을 유지할지 해제할지가 더 중요한 문제가 되었다.

        지난 10년을 요계에서 보낸 라온은 요괴들이 여전히 인간을 친구로 여긴다는 사실을 전하며, 봉인을 해제하자고 주장했다. 중립을 지켜오던 나린 역시 이에 동의하며 요괴를 해방하자고 나섰다.

        그때 길라가 훌쩍이며 입을 열었다. 그는 자신이 요괴와 인간 사이에 태어난 아이이며, 다른 주술사들의 시선을 피해 숨어 살아왔다는 사실을 고백했다. 그리고는 더는 자신의 핏줄을 탓하며 숨어 살지 않도록 도와달라고 했다. 자신의 가문에는 요괴에 대한 진실이 밝혀지는 날, 요괴를 해방하기 위해 금기술(요괴 봉인 해제술)이 내려져 오고 있다며 자신이 그 방법을 알고 있으니 힘을 보태달라고 했다.

        길라의 말에 일부는 불편한 기색을 보였고, 몇몇은 봉인이 풀리고 진실이 드러났을 때의 혼란과 주술사들이 치러야 할 대가를 걱정하며 봉인을 유지하자는 의견도 나왔다. 
        
        ${excludedText}

        그 후 아이들은 각자의 신념대로 주술을 펼쳤고, 그중 다수가 길라에게 힘을 보태는 강화술을 사용했다. 그 결과 오랜 세월 이어져 온 요괴 봉인이 마침내 해제되었다.

        잠시 후, 요계에 틈이 열리고, 그 속에 갇혀 있던 요괴들이 하나둘 모습을 드러내기 시작했다. 그 모습을 본 길라는 그들에게 다가가 오랫동안 억눌렸던 감정을 쏟아내듯 울었고, 그에게서 동족의 기운을 느낀 요괴들은 따뜻하게 안아주었다. 그리고 그 사이, 요괴 대장과 눈이 마주친 라온은 반갑게 손을 흔들었다.

        이날 이후 주술 마을에는 '요괴는 인간의 친구’라는 진실과 함께 '진정한 괴물은 힘을 탐하는 욕망'이라는 말이 퍼졌다. 주술사들은 선조들의 악행을 속죄하는 마음으로 주술 마을을 해체하고 곳곳으로 흩어졌다. 그리고 도움이 필요한 인간들 사이에서 '기적'이라는 이름의 주술만 사용하고 있다는 이야기가 전해진다.
        `;
        },
      "A-03": `내용`,
      "A-04": `내용`,
      "A-05": `내용`,
      "A-06": `내용`,
      "A-07": `내용`,
      "A-08": `내용`,
      "A-09": `내용`,
      "A-10": `내용`,
      "A-11": `내용`,
      "A-12": `내용`,
      "A-13": `내용`,
      "A-14": `내용`,
      "A-15": `내용`,
      "A-16": `내용`,
      "A-17": `내용`,
      "A-18": `내용`,
      "A-19": `내용`,
      "A-20": `내용`,
      "A-21": `내용`,
      "A-22": `내용`,
      "C-01": `내용`,
      "C-02": `내용`,
    };

    let message = "이 엔딩에 대한 텍스트는 아직 작성되지 않았습니다.";

    if (typeof messageMap[endingCode] === "function") {
    message = messageMap[endingCode]({
    excluded,
    forbiddenNames,
    supportBbyori,
    });
    } else if (typeof messageMap[endingCode] === "string") {
    message = messageMap[endingCode];
    }

document.getElementById("endingCode").innerText = endingCode;
document.getElementById("endingText").innerText = message;

console.log("생성된 key:", key);
console.log("매칭되는 엔딩코드:", logicMap[key]);
console.log("cause:", cause);
console.log("killer:", killer);
console.log("reVote:", reVote);
console.log("excluded:", excluded);
console.log("book:", book);
console.log("action:", action);
</script>
<!-- 버튼 영역 -->

<div class="button-container">
<button onclick="history.back()">이전 화면으로 돌아가기</button>
<button onclick="location.href='ending_select1.html'">엔딩 선택 페이지</button>
<button onclick="location.href='ending.html'">엔딩 페이지로 돌아가기</button>
</div>

<hr class="custom-hr">
<section><p class="made"> &copy; Copyright 2025. 보또 All rights reserved. </p>/section>
</body>
</html>
